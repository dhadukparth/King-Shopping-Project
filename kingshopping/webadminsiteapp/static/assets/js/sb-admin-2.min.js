/*!
 * Start Bootstrap - SB Admin 2 v4.1.3 (https://startbootstrap.com/theme/sb-admin-2)
 * Copyright 2013-2021 Start Bootstrap
 * Licensed under MIT (https://github.com/StartBootstrap/startbootstrap-sb-admin-2/blob/master/LICENSE)
 */

!function (l) { "use strict"; l("#sidebarToggle, #sidebarToggleTop").on("click", function (e) { l("body").toggleClass("sidebar-toggled"), l(".sidebar").toggleClass("toggled"), l(".sidebar").hasClass("toggled") && l(".sidebar .collapse").collapse("hide") }), l(window).resize(function () { l(window).width() < 768 && l(".sidebar .collapse").collapse("hide"), l(window).width() < 480 && !l(".sidebar").hasClass("toggled") && (l("body").addClass("sidebar-toggled"), l(".sidebar").addClass("toggled"), l(".sidebar .collapse").collapse("hide")) }), l("body.fixed-nav .sidebar").on("mousewheel DOMMouseScroll wheel", function (e) { var o; 768 < l(window).width() && (o = (o = e.originalEvent).wheelDelta || -o.detail, this.scrollTop += 30 * (o < 0 ? 1 : -1), e.preventDefault()) }), l(document).on("scroll", function () { 100 < l(this).scrollTop() ? l(".scroll-to-top").fadeIn() : l(".scroll-to-top").fadeOut() }), l(document).on("click", "a.scroll-to-top", function (e) { var o = l(this); l("html, body").stop().animate({ scrollTop: l(o.attr("href")).offset().top }, 1e3, "easeInOutExpo"), e.preventDefault() }) }(jQuery);



var step = 1;
$(document).ready(function () { 
    stepProgress(step); 
});
$(".next").on("click", function () {
    if (step < $(".step").length) {
        $(".step").show();
        $(".step")
            .not(":eq(" + step++ + ")")
            .hide();
        stepProgress(step);
    }
    hideButtons(step);
});

// ON CLICK BACK BUTTON
$(".back").on("click", function () {
    if (step > 1) {
        step = step - 2;
        $(".next").trigger("click");
    }
    hideButtons(step);
});

// CALCULATE PROGRESS BAR
stepProgress = function (currstep) {
    var percent = parseFloat(100 / $(".step").length) * currstep;
    percent = percent.toFixed();
    $(".progress-bar")
        .css("width", percent + "%")
        .html(percent + "%");
};

// DISPLAY AND HIDE "NEXT", "BACK" AND "SUMBIT" BUTTONS
hideButtons = function (step) {
    var limit = parseInt($(".step").length);
    $(".action").hide();
    if (step < limit) {
        $(".next").show();
    }
    if (step > 1) {
        $(".back").show();
    }
    if (step == limit) {
        $(".next").hide();
        $(".submit").show();
    }
};

// Add the following code if you want the name of the file appear on select
$(".custom-file-input").on("change", function() {
    var fileName = $(this).val().split("\\").pop();
    $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
});


// Dashboard Content Box Show And Hide Function
function hideshow(btname, boxname) { 
    if($(boxname).hasClass('d-none')){
        $(boxname).removeClass('d-none');
        $(btname).text("Hide");
    }
    else{
        $(boxname).addClass('d-none');
        $(btname).text("Show");
    }
}


// Right Click Disable
$(document).bind('contextmenu', function(e) {
    Swal.fire({
        icon: 'error',
        title: 'Right Click Disable',
        text: 'Sorry! Contextmenu is disable.',
    });
    return false;
});

// Choose Image
$('.chooseimagebtn').on('click', function () {
    $('#chooseimageinput').trigger('click');
});

// Choose image set in user image
$('#chooseimageinput').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        
        reader.onload = function (e) {
            $('.chooseimagebtn').attr('src', e.target.result);
        }
        
        reader.readAsDataURL(this.files[0]);
    }
});


function targeimage(chooseinput) {
    $(chooseinput).trigger('click');
}

$('.chooseproimageinput1').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
            $('.uploadProductImage1').addClass('d-none');
            $('.chooseproimage1').attr('src', e.target.result);
        }   
        reader.readAsDataURL(this.files[0]);
    }
});

$('.chooseproimageinput2').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
            $('.uploadProductImage2').addClass('d-none');
            $('.chooseproimage2').attr('src', e.target.result);
        }
        reader.readAsDataURL(this.files[0]);
    }
});

$('.chooseproimageinput3').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
            $('.uploadProductImage3').addClass('d-none');
            $('.chooseproimage3').attr('src', e.target.result);
        }
        
        reader.readAsDataURL(this.files[0]);
    }
});

$('.chooseproimageinput4').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        
        
        reader.onload = function (e) {
            $('.uploadProductImage4').addClass('d-none');
            $('.chooseproimage4').attr('src', e.target.result);
        }
        
        reader.readAsDataURL(this.files[0]);
    }
});

$('.chooseproimageinput5').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        
        
        reader.onload = function (e) {
            $('.uploadProductImage5').addClass('d-none');
            $('.chooseproimage5').attr('src', e.target.result);
        }
        
        reader.readAsDataURL(this.files[0]);
    }
});


// Sweetalert Popup Box
function popupbox(seticon, setitle, setext){
    Swal.fire({
        icon: seticon,
        title: setitle,
        text: setext,
    });
}


// OTP Modal Aadharcard enable
$('.otpModalbtn').on('click', function () {
    $('#aadharcard').attr('readonly', false).attr('disabled', false);
});


// Short Notification Remove
$('.shortNotification').on('click', function () {
    if($(this).hasClass('d-none')) {
        $(this).removeClass('d-none').addClass('d-block');
    }
    else{
        $(this).removeClass('d-block').addClass('d-none');
    }
});


// Automatically Remove Short Notification
setTimeout(function () {
    $('.shortNotification').removeClass('d-block').addClass('d-none');
}, 2000);


// Password Validation
$('.passwordvalidation').on({
    keyup : function () {
        let passval = $(this).val();

        // Check The Number
        if(passval.match(/\d/)){
            $('.passnumber').addClass("text-success");
        }
        else{
            $('.passnumber').removeClass('text-success');
        }


        // Check The Lower case
        if(passval.match(/[a-z]/)){
            $('.passlower').addClass("text-success");
        }
        else{
            $('.passlower').removeClass('text-success');
        }

        // Check Uppercase
        if(passval.match(/[A-Z]/)){
            $('.passupper').addClass("text-success");
        }
        else{
            $('.passupper').removeClass('text-success');
        }

        // Check Symbols
        if(passval.match(/[!@#$%^&*:;"'<>,.?+=]/)){
            $('.passymbol').addClass("text-success");
        }
        else{
            $('.passymbol').removeClass('text-success');
        }

        // Check The Password Length
        if(passval.length >= 8){
            $('.passlength').addClass('text-success');
        }
        else{
            $('.passlength').removeClass('text-success');
        }
    },
    focusin : function () {
        $('.setconditionbox').removeClass('d-none');
    },
    focusout : function () {
        $('.setconditionbox').addClass('d-none');
    }
});


// Banner Upload Input Button Change Event
$('.bannerUploadImage').on('change', function () {
    if (this.files && this.files[0]) {
        var reader = new FileReader();
        reader.onload = function (e) {
            $('.myprocessbar').addClass('active');
            setTimeout(() => {
                $('.myprocessbar').removeClass('active');
                $('.uploadProductImage1').addClass('d-none');
                $('.bannerImage').attr('src', e.target.result);
                $('.uploadBannerForm').removeClass('d-none');
            }, 3000);
        }   
        reader.readAsDataURL(this.files[0]);
    }
});

// Product Details Edit in Short Details Edit Button
$('.productshorteditbtn').on('click', function(){
    $('.productshorteditbtn').addClass('d-none');
    $("#productshortdetails input").prop('disabled', false);
    $("#productshortdetails select").prop('disabled', false);
    $("#productshortdetails textarea").removeAttr('disabled');
    $('.shortdetailsbuttons').removeClass('d-none');
});


// Product detail in images edit button
$('.productimageseditbtn').on('click', function(){
    $('.productimageseditbtn').addClass('d-none');
    $("#productimagesdetails input").prop('disabled', false);
    $('.imagedetailsbuttons').removeClass('d-none');
});


// Product detail in Dimensions And Warranty edit button
$('.productdimwarrantyeditbtn').on('click', function(){
    $('.productdimwarrantyeditbtn').addClass('d-none');
    $("#productdimwarrantydetails input").prop('disabled', false);
    $("#productdimwarrantydetails select").prop('disabled', false);
    $('.productdimwarrantybuttons').removeClass('d-none');
});

// Product detail in General  edit button
$('.productgeneraleditbtn').on('click', function(){
    $('.productgeneraleditbtn').addClass('d-none');
    $("#productgeneraldetails input").prop('disabled', false);
    $("#productgeneraldetails select").prop('disabled', false);
    $('.productgeneralbuttons').removeClass('d-none');
});

// Product detail in Connectivity edit button
$('.productconnectivityeditbtn').on('click', function(){
    $('.productconnectivityeditbtn').addClass('d-none');
    $("#productconnectivitydetails input").prop('disabled', false);
    $("#productconnectivitydetails select").prop('disabled', false);
    $('.productconnectivitybuttons').removeClass('d-none');
});

// Product detail in OS & Processer edit button
$('.productosprocessereditbtn').on('click', function(){
    $('.productosprocessereditbtn').addClass('d-none');
    $("#productosprocesserdetails input").prop('disabled', false);
    $("#productosprocesserdetails select").prop('disabled', false);
    $('.productosprocesserbuttons').removeClass('d-none');
});

// Product detail in Clouths edit button
$('.productclothseditbtn').on('click', function(){
    $('.productclothseditbtn').addClass('d-none');
    $("#productclothsdetails input").prop('disabled', false);
    $("#productclothsdetails select").prop('disabled', false);
    $('.productclothsbuttons').removeClass('d-none');
});

// Product detail in Clouths edit button
$('.productdisplayeditbtn').on('click', function(){
    $('.productdisplayeditbtn').addClass('d-none');
    $("#productdisplaydetails input").prop('disabled', false);
    $("#productdisplaydetails select").prop('disabled', false);
    $('.productdisplaybuttons').removeClass('d-none');
});




// CkEditor Multiple Time Use
var allEditors = document.querySelectorAll('.myckeditor');
for (var i = 0; i < allEditors.length; ++i) {
    ClassicEditor.create(allEditors[i]);
}


// New Product Display Panel Show And Hide Selected Change Effect
$('.newdisplayshow').on('change', function(){
    let getvalue = $(this).val();
    if(getvalue === "hide"){
        $('.newdisplayshowTextarea').addClass('d-none');
    }
    else{
        $('.newdisplayshowTextarea').removeClass('d-none');
    }
});

// New Product Connectivity Panel Show And Hide Selected Change Effect
$('.newconnectivityshow').on('change', function(){
    let getvalue = $(this).val();
    if(getvalue === "hide"){
        $('.newconnectivityshowTextarea').addClass('d-none');
    }
    else{
        $('.newconnectivityshowTextarea').removeClass('d-none');
    }
});

// New Product OS & Processor Panel Show And Hide Selected Change Effect
$('.newosprocessorshow').on('change', function(){
    let getvalue = $(this).val();
    if(getvalue === "hide"){
        $('.newosprocessorshowTextarea').addClass('d-none');
    }
    else{
        $('.newosprocessorshowTextarea').removeClass('d-none');
    }
});

// New Product Clothes Panel Show And Hide Selected Change Effect
$('.newclothesshow').on('change', function(){
    let getvalue = $(this).val();
    if(getvalue === "hide"){
        $('.newclotheshowTextarea').addClass('d-none');
    }
    else{
        $('.newclotheshowTextarea').removeClass('d-none');
    }
});

// New Product Dimention And Warranty Panel Show And Hide Selected Change Effect
$('.newdimwarrshow').on('change', function(){
    let getvalue = $(this).val();
    if(getvalue === "hide"){
        $('.newdimwarrshowTextarea').addClass('d-none');
    }
    else{
        $('.newdimwarrshowTextarea').removeClass('d-none');
    }
});


setTimeout(function(){
    if($('#messagebox').hasClass('d-flex')){
        $('#messagebox').removeClass('d-flex').addClass('d-none');
    }
}, 3000);


// Search for pages in header bar
$( function() {
    let EmployeeDeparement = $('#EmployeeDeparement').html();

    
    if (EmployeeDeparement == 'administrator' || EmployeeDeparement == 'hr' || EmployeeDeparement == 'manager') {
        var availablePages = [
            "dashboard",
            "products",
            "replace product",
            "return product",
            "category",
            "brands",
            "users",
            "employees",
            "new employee",
            "orders",
            "cancel order",
            "notification",
            "banner",
            "settings",
            "logout",
        ];

        $( "#searchtags" ).autocomplete({
            source: availablePages
        });
    }

    else if (EmployeeDeparement == 'employee') {
        var availablePages = [
            "dashboard",
            "replace product",
            "return product",
            "orders",
            "cancel order",
            "notification",
            "settings",
            "logout",
        ];

        $( "#searchtags" ).autocomplete({
            source: availablePages
        });
    }

    else if (EmployeeDeparement == 'packing' || EmployeeDeparement == 'delivery') {
        var availablePages = [
            "dashboard",
            "replace product",
            "orders",
            "settings",
            "logout",
        ];

        $( "#searchtags" ).autocomplete({
            source: availablePages
        });
    }
} );